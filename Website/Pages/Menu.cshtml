@page
@model Website.Pages.MenuModel
@{
    ViewData["Title"] = "Menu";
}

<h1>Menu</h1>

<div class="content">
    <div class="result">
        @if (Model.itemType.Contains("combo"))
        {
            <h2>Combos</h2>
            <div>
                @foreach (DinoDiner.Menu.IMenuItem item in Model.combos)
                {
                    <div class="menu-item">
                        <p>@item.Description</p>
                        <table>
                            <tr>
                                <th>Size</th>
                                <th>Price</th>
                                <th>Calories</th>
                            </tr>
                            <tr>
                                @(item.Size = DinoDiner.Menu.Size.Small)
                                <td>@item.Size</td>
                                <td>@item.Price</td>
                                <td>@item.Calories</td>
                            </tr>
                            <tr>
                                @(item.Size = DinoDiner.Menu.Size.Medium)
                                <td>@item.Size</td>
                                <td>@item.Price</td>
                                <td>@item.Calories</td>
                            </tr>
                            <tr>
                                @(item.Size = DinoDiner.Menu.Size.Large)
                                <td>@item.Size</td>
                                <td>@item.Price</td>
                                <td>@item.Calories</td>
                            </tr>
                        </table>
                        <p>Ingredients:</p>
                        <p class="ingredient">
                            @foreach (string ingredient in item.Ingredients)
                            {
                                <div>@ingredient</div>
                            }
                        </p>
                    </div>
                }
            </div>
        }

        @if (Model.itemType.Contains("entree"))
        {
            <h2>Entrees</h2>
            <div>
                @foreach (DinoDiner.Menu.IMenuItem item in @Model.entrees)
                {
                    <div class="menu-item">
                        <p>@item.Description $@item.Price Calories are @item.Calories</p>
                        <p class="ingredient">
                            @foreach (string ingredient in item.Ingredients)
                            {
                                <div>@ingredient</div>
                            }
                        </p>
                    </div>
                }
            </div>
        }

        @if (Model.itemType.Contains("side"))
        {
            <h2>Sides</h2>
            <div>
                @foreach (DinoDiner.Menu.IMenuItem item in Model.sides)
                {
                <div class="menu-item">
                    <p>@item.Description</p>
                    <table>
                        <tr>
                            <th>Size</th>
                            <th>Price</th>
                            <th>Calories</th>
                        </tr>
                        <tr>
                            @(item.Size = DinoDiner.Menu.Size.Small)
                            <td>@item.Size</td>
                            <td>@item.Price</td>
                            <td>@item.Calories</td>
                        </tr>
                        <tr>
                            @(item.Size = DinoDiner.Menu.Size.Medium)
                            <td>@item.Size</td>
                            <td>@item.Price</td>
                            <td>@item.Calories</td>
                        </tr>
                        <tr>
                            @(item.Size = DinoDiner.Menu.Size.Large)
                            <td>@item.Size</td>
                            <td>@item.Price</td>
                            <td>@item.Calories</td>
                        </tr>
                    </table>
                    <p>Ingredients:</p>
                    <p class="ingredient">
                        @foreach (string ingredient in item.Ingredients)
                        {
                            <div>@ingredient</div>
                        }
                    </p>
                </div>
                }
            </div>
        }

        @if (Model.itemType.Contains("drink"))
        {
            <h2>Drinks</h2>
            <div>

                @foreach (DinoDiner.Menu.IMenuItem item in Model.drinks)
                {
                <div class="menu-item">
                    <p>@item.Description</p>
                    <table>
                        <tr>
                            <th>Size</th>
                            <th>Price</th>
                            <th>Calories</th>
                        </tr>
                        <tr>
                            @(item.Size = DinoDiner.Menu.Size.Small)
                            <td>@item.Size</td>
                            <td>@item.Price</td>
                            <td>@item.Calories</td>
                        </tr>
                        <tr>
                            @(item.Size = DinoDiner.Menu.Size.Medium)
                            <td>@item.Size</td>
                            <td>@item.Price</td>
                            <td>@item.Calories</td>
                        </tr>
                        <tr>
                            @(item.Size = DinoDiner.Menu.Size.Large)
                            <td>@item.Size</td>
                            <td>@item.Price</td>
                            <td>@item.Calories</td>
                        </tr>
                    </table>
                    <p>Ingredients:</p>
                    <p class="ingredient">
                        @foreach (string ingredient in item.Ingredients)
                        {
                            <div>@ingredient</div>
                        }
                    </p>
                </div>
                }
            </div>
        }

    </div>
    
    <form method="post">
        <h4>Search</h4>
        <input type="text" name="search" id="search" value="@Model.search" />
        <input type="submit" value="Search and Filter" />

        <div class="checkbox-list">
            <h4>Menu Category</h4>
            <label>
                <input type="checkbox" value="combo" name="itemType" checked="@Model.itemType.Contains("combo")"/>
                Combo
            </label>

            <label>
                <input type="checkbox" value="entree" name="itemType" checked="@Model.itemType.Contains("entree")"/>
                Entree
            </label>

            <label>
                <input type="checkbox" value="side" name="itemType" checked="@Model.itemType.Contains("side")"/>
                Side
            </label>

            <label>
                <input type="checkbox" value="drink" name="itemType" checked="@Model.itemType.Contains("drink")"/>
                Drink
            </label>
        </div>

        <h4>Price</h4>
        <label>
            Min:
            <input type="number" min="0" max="12" step="0.1" name="minPrice" value="@Model.minPrice"/>
        </label>
        <label>
            Max:
            <input type="number" min="0" max="12" step="0.1" name="maxPrice" value="@Model.maxPrice" />
        </label>

        <div class="checkbox-list">
            <h4>Excluding Ingredients</h4>
            @foreach (string ingredient in Model.menu.PossibleIngredients)
            {
                <label>
                    <input type="checkbox" value="@ingredient" name="ingredients" checked="@Model.ingredients.Contains(ingredient)"/>
                    @ingredient
                </label>
            }
        </div>
        
        
    </form>
</div>

